(()=>{function e(e){var n='\n        <div class="popup-content">\n            <h2>We found a better deal on '.concat(e.site,'!</h2>\n            <img src="').concat(e.itemImage,'" alt="Product Image" style="width: 150px; height: 150px; object-fit: cover; border-radius: 5px; margin-right: 20px;">\n            <p><strong>Item:</strong> ').concat(e.itemName,"</p>\n            <p><strong>Price:</strong> ").concat(e.itemPrice,'</p>\n            <a href="').concat(e.itemUrl,'" target="_blank" class="deal-link">Click here to buy</a>\n        </div>\n    '),t=document.createElement("div");t.id="deal-popup",t.style.cssText="\n        background-color: #f9f9f9;\n        color: #000;\n        padding: 20px;\n        border-radius: 10px;\n        position: fixed;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);\n        z-index: 10001;\n        width: 350px;\n        text-align: center;\n    ",t.innerHTML=n;var o=document.createElement("button");o.innerText="Close",o.style.cssText="\n        display: block;\n        margin: 20px auto 0;\n        padding: 10px 20px;\n        background-color: #ffa500;\n        color: white;\n        border: none;\n        cursor: pointer;\n        border-radius: 5px;\n        font-size: 16px;\n    ",o.addEventListener("click",(function(){document.body.removeChild(t)})),t.appendChild(o),document.body.appendChild(t)}window.searchForBestDeal=function(n){if(n&&"string"==typeof n){var t=n.split(" ").slice(0,3).join(" "),o=document.querySelector("#imgTagWrapperId img")||document.querySelector("#landingImage"),i=o?o.src:"https://via.placeholder.com/300x300?text=No+Image+Available";!function(){var e=document.createElement("div");e.id="loading-overlay",e.style.cssText="\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(255, 255, 255, 0.8);\n        z-index: 10000;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    ";var n=document.createElement("div");n.className="spinner",n.style.cssText="\n        border: 8px solid #f3f3f3;\n        border-radius: 50%;\n        border-top: 8px solid #3498db;\n        width: 60px;\n        height: 60px;\n        animation: spin 2s linear infinite;\n    ",e.appendChild(n),document.body.appendChild(e);var t=document.createElement("style");t.innerHTML="\n    @keyframes spin {\n        0% { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n    }\n    ",document.head.appendChild(t)}(),setTimeout((function(){var n,o={site:"eBay",itemUrl:"https://www.ebay.com/itm/simulated-item-url",itemName:t,itemImage:i,itemPrice:"$12.99"};(n=document.getElementById("loading-overlay"))&&document.body.removeChild(n),e(o)}),2e3)}else console.error("Invalid product name:",n)},window.displayBestDeal=e})();